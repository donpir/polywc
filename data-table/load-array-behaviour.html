<script>
    /**
    @license
    This file is part of POLYWC library.

    POLYWC is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    JSDataChecker is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    Copyright (C) 2016 POLYWC - Donato Pirozzi (donatopirozzi[at]gmail[dot]com)
    Distributed under the GNU LGPL v3. For full terms see the file LICENSE.
    License: http://www.gnu.org/licenses/lgpl.html LGPL version 3 or higher

    Contributors: Donato Pirozzi (donatopirozzi[at]gmail[dot]com)
    **/

    LoadArrayBehaviour = {
        properties: {
            data: { type: Object, value: undefined, notify: true, observer: 'handleDataChange' }
        },

        /**
         * @param page is a number greater then one.
         * @param page
         * @param itemsPerPage
         * @returns {Array.<T>|string|Blob}
         */
        load: function(page, itemsPerPage) {
            //"data" property must be an array, so it checks this.
            if (!Array.isArray(this.data))
                throw "LoadArrayBehaviour has a property 'data' that must be an array.";

            var startIdx = itemsPerPage * (page - 1);
            var endIdx = startIdx + itemsPerPage - 1;
            var arrSlice = this.data.slice(startIdx, endIdx);
            return arrSlice;
        },

        handleDataChange: function() {
            console.log("Data changed");
        }

    };
</script>