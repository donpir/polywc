<!--

    @license
    Copyright (C) 2016 - Donato Pirozzi (donatopirozzi[at]gmail[dot]com)
    This file is part of POLYWC library.

    POLYWC is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    POLYWC is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    Distributed under the GNU LGPL v3. For full terms see the file LICENSE.
    License: http://www.gnu.org/licenses/lgpl.html LGPL version 3 or higher

    Contributors:
        - Donato Pirozzi (donatopirozzi[at]gmail[dot]com)

-->

<!doctype html>

<html>
<head>
    <!-- POLYMER -->
    <link rel="import" href="../../polymer/polymer.html">

    <!-- POLYWC data table -->
    <link rel="import" href="../polywc-data-table.html">
    <link rel="import" href="../polywc-data-source-rest.html">

</head>
<body>

    <polywc-data-table id="tbl" headers='["id", "Author", "Title", "Year"]'
                field-id="id" fields='["id", "author", "title", "year"]'
                show-pager>
        <polywc-data-source-rest id="ds"
                base-url="https://data.dublinked.ie/api/action/datastore_search?resource_id=c0ad65f7-6000-4e0d-b972-275cf76d288b"
                items-per-page-key="limit" item-offset-key="offset" post-process-data="fncPostProcessData">
        </polywc-data-source-rest>
    </polywc-data-table>

    <script type="text/javascript">
        function fncPostProcessData() {
            alert("ciao");
        }
        /*var dataurl = "https://data.issy.com/api/records/1.0/search/?dataset=entreprises-tic-issy&sort=nom&facet=sous_secteur&facet=membre_d_un_reseau";

        var $tblBooks = document.querySelector("#tblBooks");
        $tblBooks.setBehaviour(PagerArrayBehaviour);
        $tblBooks.behaviors.unshift(PagerRestBehaviour);
        $tblBooks._desugarBehaviors();
        $tblBooks.data = books;
        */

        var $tbl = document.querySelector("#tbl");
        $tbl._getDataSource().postProcessData = function () {
            console.log("Hey");
        };
        $tbl.refresh(1);
    </script>

</body>
</html>